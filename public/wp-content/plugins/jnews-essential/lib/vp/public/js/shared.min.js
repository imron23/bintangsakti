"use strict";jQuery.fn.getAttributes=function(){var a={};return this.length?(jQuery.each(this[0].attributes,function(e,t){a[t.name]=t.value}),a):this},jQuery.fn.getDatas=function(){var a={},i="data-vp-";return this.length?(jQuery.each(this[0].attributes,function(e,t){t.name.substring(0,i.length)==i&&(a[t.name.substring(i.length)]=t.value)}),a):this},jQuery.fn.exists=function(){return 0!==this.length},String.prototype.trimChar||(String.prototype.trimChar=function(e){return this.replace(new RegExp("^"+e+"+|"+e+"+$","g"),"")}),String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(e,t){return void 0!==a[t]?a[t]:e})}),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t,a){var i,n,r=-1;if((i=this.toString())&&"string"==typeof e)for(n=!0===a?e.toLowerCase():void 0;-1!==(r=void 0!==n?i.toLowerCase().indexOf(n,0<=r?r+t.length:0):i.indexOf(e,0<=r?r+t.length:0));)i=i.substring(0,r).concat(t).concat(i.substring(r+e.length));return i}),jQuery.fn.validationVal=function(){var a,i=this,n="",r=i.prop("tagName");(1<i.length&&"radio"!=i.attr("type")||i.attr("multiple"))&&(n=[]);var e=n;return i.each(function(e){var t=jQuery(this);switch(r){case"SELECT":n=(t.has("[multiple]"),t.val());break;case"INPUT":switch(i.attr("type")){case"text":case"hidden":n=t.val();break;case"radio":void 0!==(a=t.prop("checked"))&&!1!==a&&(n=t.val());break;case"checkbox":a=t.prop("checked"),1<i.length?void 0!==a&&!1!==a&&n.push(t.val()):(n=null,void 0!==a&&!1!==a&&(n=t.val()))}break;case"TEXTAREA":default:n=t.val()}}),null===n&&(n=e),n},jQuery.fn.vp_slideUp=function(a){this.each(function(e){var t=jQuery(this);t.hasClass("vp-hide")||t.slideUp("fast",function(){jQuery(this).addClass("vp-hide").slideDown(0,a)})})},jQuery.fn.vp_slideDown=function(a){this.each(function(e){var t=jQuery(this);t.hasClass("vp-hide")&&t.slideUp(0,function(){jQuery(this).removeClass("vp-hide").slideDown("fast",a)})})},jQuery.fn.vp_fadeOut=function(e){this.hasClass("vp-hide")||this.fadeOut("fast",function(){jQuery(this).addClass("vp-hide").fadeIn(0,e)})},jQuery.fn.vp_fadeIn=function(e){this.hasClass("vp-hide")&&this.fadeOut(0,function(){jQuery(this).removeClass("vp-hide").fadeIn("fast",e)})},jQuery.fn.vp_toggle=function(e){var t=this;t.hasClass("vp-hide")?t.slideUp(0,function(){jQuery(this).removeClass("vp-hide").slideDown("fast",e)}):t.slideUp("fast",function(){jQuery(this).addClass("vp-hide").slideDown(0,e)})};var _orig_send_attachment,_orig_send_link,_orig_send_to_editor,vp={};function theValidate(e,t,a){var i=jQuery(e),e=i.val();""!==e&&(vp.validateNumeric("vp-textbox",e)||(i.val(t.min),a.slider("value",t.min)),e>t.max?(i.val(t.max),a.slider("value",t.max)):e<t.min?(i.val(t.min),a.slider("value",t.min)):a.slider("value",i.val()))}function get_url_info(e){var t,a,i,n=jQuery(e);return"A"==n.prop("tagName")?(a=jQuery(e).attr("href"),t=vp.get_url_extension(a),i=a,"image"!==(t=vp.wp_ext2type(t))&&(i=vp_wp.wp_include_url+"images/crystal/"+t+".png")):"IMG"==n.prop("tagName")&&(i=a=jQuery(e).attr("src")),{imgurl:a,iconurl:i}}vp.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},vp.parseOpt=function(e){for(var t,a,i={},n=0;n<e.length;n++)"("==e[n]&&(t=n),")"==e[n]&&(i[(a=e.substring(t+1,n).split(":"))[0]]=vp.isNumber(a[1])?parseFloat(a[1]):a[1]);return i},vp.wp_ext2type=function(e){var t,a={image:["jpg","jpeg","bmp","gif","png","ico"],audio:["aac","ac3","aif","aiff","m3a","m4a","m4b","mka","mp1","mp2","mp3","ogg","oga","ram","wav","wma"],video:["asf","avi","divx","dv","flv","m4v","mkv","mov","mp4","mpeg","mpg","mpv","ogm","ogv","qt","rm","vob","wmv"],document:["doc","docx","docm","dotm","odt","pages","pdf","rtf","wp","wpd"],spreadsheet:["numbers","ods","xls","xlsx","xlsm","xlsb"],interactive:["swf","key","ppt","pptx","pptm","pps","ppsx","ppsm","sldx","sldm","odp"],text:["asc","csv","tsv","txt"],archive:["bz2","cab","dmg","gz","rar","sea","sit","sqx","tar","tgz","zip","7z"],code:["css","htm","html","php","js"]},i="default";for(t in a)if(a.hasOwnProperty(t)&&-1!==jQuery.inArray(e,a[t])){i=t;break}return i},vp.get_url_extension=function(e){e=new RegExp(/(.*)[\/\\]([^\/\\]+)\.(\w+)/i).exec(e);return e&&void 0!==e[3]?e[3]:""},vp.jqid=function(e){return"#"+e.replace(/([:\.\[\]])/g,"\\$1")},vp.jqidwild=function(e){return e="[id*="+(e=e.replace(/([:\.\[\]])/g,"\\$1"))+"]"},vp.jqname=function(e){return'[name="'+e+'"]'},vp.jqnamewild=function(e){return'[name*="'+e+'"]'},vp.thejqid=function(e,t){return"option"===t?vp.jqid(e):"metabox"===t?vp.jqidwild(e):e},vp.thejqname=function(e,t){return"option"===t?vp.jqname(e):"metabox"===t?vp.jqnamewild(e):e},vp.validateAlphabet=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.alphabet_validatable))||new RegExp(/^[A-Z\s]+$/i).test(t)},vp.validateAlphaNumeric=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.alphanumeric_validatable))||new RegExp(/^[A-Z0-9]+$/i).test(t)},vp.validateNumeric=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.numeric_validatable))||new RegExp(/^[-+]?[0-9]*\.?[0-9]+$/).test(t)},vp.validateEmail=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.email_validatable))||new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i).test(t)},vp.validateURL=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.url_validatable))||new RegExp(/^(ftp|http|https):\/\/[^ "]+$/i).test(t)},vp.validateMaxLength=function(e,t,a){return-1!=jQuery.inArray(e,vp_wp.maxlength_validatable)||t.length<=a},vp.validateMinLength=function(e,t,a){return-1!=jQuery.inArray(e,vp_wp.minlength_validatable)||t.length>=a},vp.validateRequired=function(e,t){return(!jQuery.isArray(t)||!jQuery.isEmptyObject(t))&&!!t},vp.fields_validation_loop=function(e){for(var t=0,a=0;a<e.length;a++){var i=e[a],n=jQuery(vp.jqid(i.name)),r=n.parents(".vp-meta-group").exists()?n.parents(".vp-meta-group"):n.parents(".vp-section");if(!(n.length<=0)&&!(n.hasClass("vp-dep-inactive")||r.exists()&&r.hasClass("vp-dep-inactive"))){for(var p=n.children("div.field").children(".validation-msgs").children("ul"),s=jQuery('[name="'+i.name+'"]').validationVal(),o=i.type,u=i.rules.split("|"),l=i.nError=0;l<u.length;l++){var c,d,v=u[l],h=v.indexOf("["),g=v.indexOf("]"),f="";switch(0<=h?v.substring(0,h):v){case"alphabet":vp.validateAlphabet(o,s)||(f=vp_wp.val_msg.alphabet.format());break;case"alphanumeric":vp.validateAlphaNumeric(o,s)||(f=vp_wp.val_msg.alphanumeric.format());break;case"numeric":vp.validateNumeric(o,s)||(f=vp_wp.val_msg.numeric.format());break;case"email":vp.validateEmail(o,s)||(f=vp_wp.val_msg.email.format());break;case"url":vp.validateURL(o,s)||(f=vp_wp.val_msg.url.format());break;case"maxlength":c=v.substring(h+1,g),vp.validateMaxLength(o,s,c)||(f=vp_wp.val_msg.maxlength.format(c));break;case"minlength":c=v.substring(h+1,g),vp.validateMinLength(o,s,c)||(f=vp_wp.val_msg.minlength.format(c));break;case"maxselected":c=v.substring(h+1,g),vp.validateMaxLength(o,s,c)||(f=vp_wp.val_msg.maxselected.format(c));break;case"minselected":c=v.substring(h+1,g),vp.validateMinLength(o,s,c)||(f=vp_wp.val_msg.minselected.format(c));break;case"required":vp.validateRequired(o,s)||(f=vp_wp.val_msg.required.format())}""!==f&&(i.nError+=1,(d=jQuery('<li class="validation-msg vp-error"></li>')).html(f),d.appendTo(p))}0<i.nError&&(t+=1,n.addClass("vp-error"))}}return t},vp.custom_check_radio_event=function(e,t){jQuery(e).delegate(t,"click",function(e){e.preventDefault();var t=jQuery(this).find("input").not("[type=hidden]"),e=t.attr("type");"radio"==e?(jQuery(this).parent().parent().find("input").each(function(e){jQuery(this).removeClass("checked"),t.prop("checked",!1)}),t.prop("checked",!0).change()):"checkbox"==e&&(t.is(":checked")?t.prop("checked",!1):t.prop("checked",!0),t.trigger("change"))}),jQuery(e).delegate(t,"change",function(e){e.preventDefault();e=jQuery(this).find("input");e.is(":checked")?e.addClass("checked"):e.removeClass("checked")})},vp.binding_action=function(e,a,t,i){for(var n=jQuery(vp.jqid(a.source)),r=jQuery('[name="'+a.source+'"]'),p=[],s=0;s<e.length;s++){var o=jQuery(vp.thejqname(e[s],i)).validationVal();jQuery.isArray(o)&&0==o.length&&(o=null),p.push(o)}var t={action:"vp_ajax_wrapper",func:t,params:p},u=n.find(".vp-js-bind-loader"),l=n.find(".input");"vp-html"==a.type?u.vp_fadeIn():l.vp_fadeOut(function(){u.vp_fadeIn()}),jQuery.post(ajaxurl,t,function(e){if(u.vp_fadeOut(function(){l.vp_fadeIn()}),e.status){var t;switch(a.type){case"vp-select":case"vp-multiselect":r=jQuery('[name="'+a.source+'"]'),null!==e.data&&(t=e.data instanceof Array?e.data:[e.data],r.val(t).change());break;case"vp-checkbox":null!==e.data&&(t=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(t,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()}));break;case"vp-toggle":null!==e.data&&(e.data?r.prop("checked",!0):r.prop("checked",!1)).change();break;case"vp-checkimage":null!==e.data&&(t=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(t,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()})),vp.init_tipsy();break;case"vp-radiobutton":null!==e.data&&(t=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(t,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()}));break;case"vp-radioimage":null!==e.data&&(t=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(t,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()})),vp.init_tipsy();break;case"vp-html":null!==e.data&&(jQuery(vp.jqid(a.source+"_dom")).html(e.data),jQuery(vp.jqname(a.source)).val(e.data));break;default:(r=jQuery(vp.jqname(a.source))).val(e.data)}jQuery('[name="'+a.source+'"]:first').keypress().keyup().change().blur()}},"JSON")},vp.binding_event=function(a,e,i,n,t,r){var p=vp.thejqname(a[e],r),e=jQuery(vp.thejqid(a[e],r)).attr("data-vp-type");-1===jQuery.inArray(e,["vp-select","vp-checkbox","vp-checkimage","vp-radiobutton","vp-radioimage","vp-multiselect","vp-toggle","vp-upload"])&&-1!==jQuery.inArray(e,["vp-textbox","vp-slider","vp-color","vp-date"])?jQuery(p).typing({stop:function(e,t){vp.binding_action(a,i,n,r)},delay:400}):jQuery(t).delegate(p,"change",function(){vp.binding_action(a,i,n,r)})},vp.items_binding_action=function(e,i,t,a){for(var n=jQuery(vp.jqid(i.source)),r=(jQuery('[name="'+i.source+'"]'),[]),p=0;p<e.length;p++)r.push(jQuery(vp.thejqname(e[p],a)).validationVal());var t={action:"vp_ajax_wrapper",func:t,params:r},s=n.find(".vp-js-bind-loader"),o=n.find(".input");o.vp_fadeOut(function(){s.vp_fadeIn()}),jQuery.post(ajaxurl,t,function(e){if(s.vp_fadeOut(function(){o.vp_fadeIn()}),e.status){var a;switch(i.type){case"vp-select":case"vp-multiselect":(a=jQuery('[name="'+i.source+'"]')).empty(),a.append(jQuery("<option></option>")),null!==e.data&&jQuery.each(e.data,function(e,t){a.append(jQuery("<option></option>").attr("value",t.value).text(t.label))});break;case"vp-checkbox":(a=o).empty(),a=jQuery(vp.jqid(i.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,t){a.append(jQuery('<label><input type="checkbox" name="'+i.source+'" value="'+t.value+'"><span></span>'+t.label+"</label>"))});break;case"vp-checkimage":(a=o).empty(),a=jQuery(vp.jqid(i.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,t){a.append(jQuery('<label><input type="checkbox" name="'+i.source+'" value="'+t.value+'"><img src="'+t.img+'" alt="'+t.label+'" class="vp-js-tipsy image-item" style="" original-title="'+t.value+'"></label>'))}),vp.init_tipsy();break;case"vp-radiobutton":(a=o).empty(),a=jQuery(vp.jqid(i.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,t){a.append(jQuery('<label><input type="radio" name="'+i.source+'" value="'+t.value+'"><span></span>'+t.label+"</label>"))});break;case"vp-radioimage":(a=o).empty(),a=jQuery(vp.jqid(i.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,t){a.append(jQuery('<label><input type="radio" name="'+i.source+'" value="'+t.value+'"><img src="'+t.img+'" alt="'+t.label+'" class="vp-js-tipsy image-item" style="" original-title="'+t.value+'"></label>'))}),vp.init_tipsy()}jQuery('[name="'+i.source+'"]:first').change().blur()}},"JSON")},vp.items_binding_event=function(a,e,i,n,t,r){var p=vp.thejqname(a[e],r),e=jQuery(vp.thejqid(a[e],r)).attr("data-vp-type");-1!==jQuery.inArray(e,["vp-select","vp-checkbox","vp-checkimage","vp-radiobutton","vp-radioimage","vp-multiselect","vp-toggle","vp-upload"])?jQuery(t).delegate(p,"change",function(){vp.items_binding_action(a,i,n,r)}):-1!==jQuery.inArray(e,["vp-textbox","vp-slider","vp-color","vp-date"])?jQuery(p).typing({stop:function(e,t){vp.items_binding_action(a,i,n,r)},delay:400}):jQuery(t).delegate(p,"change",function(){vp.binding_action(a,i,n,r)})},vp.dependency_action=function(e,t,a){for(var i=jQuery(vp.jqid(t.source)),n=(jQuery('[name="'+t.source+'"]'),[]),r=[],p=0;p<e.length;p++)r.push(jQuery(vp.jqid(e[p]))),n.push(jQuery('[name="'+e[p]+'"]').validationVal());a={action:"vp_ajax_wrapper",func:a,params:n};jQuery.each(r,function(e,t){t.find(".vp-js-bind-loader").vp_fadeIn()}),jQuery.post(ajaxurl,a,function(e){jQuery.each(r,function(e,t){t.find(".vp-js-bind-loader").vp_fadeOut()}),e.status&&(e.data?(i.removeClass("vp-dep-inactive"),i.vp_fadeIn()):(i.addClass("vp-dep-inactive"),i.vp_fadeOut()))},"JSON")},vp.dependency_event=function(a,e,i,n,t){var r=vp.thejqname(a[e],"option"),e=jQuery(vp.thejqid(a[e],"option")).attr("data-vp-type");-1!==jQuery.inArray(e,["vp-select","vp-checkbox","vp-checkimage","vp-radiobutton","vp-radioimage","vp-multiselect","vp-toggle","vp-upload"])?jQuery(t).delegate(r,"change",function(){vp.dependency_action(a,i,n)}):-1!==jQuery.inArray(e,["vp-textbox","vp-slider","vp-color","vp-date"])?jQuery(r).typing({stop:function(e,t){vp.dependency_action(a,i,n)},delay:400}):jQuery(t).delegate(r,"change",function(){vp.binding_action(a,i,n,thecase)})},vp.init_slider=function(e){jQuery.fn.slider&&e.each(function(e,t){var a=jQuery(this),i=jQuery(this).getDatas();(i=vp.parseOpt(i.opt)).range="min",i.slide=function(e,t){a.prev(".slideinput").val(t.value),a.prev(".slideinput").trigger("keypress"),a.prev(".slideinput").trigger("keyup")},a.slider(i),a.prev(".slideinput").keypress(function(e){var t="number"==typeof e.which?e.which:e.keyCode;return!!(e.altKey||e.ctrlKey||e.shiftKey)||(-1!=jQuery.inArray(t,[45,46,8,0])||48<=t&&t<=57)}).blur(function(e){theValidate(this,i,a),a.prev(".slideinput").keypress().keyup()})})},vp.upload_callback=function(){},vp_wp.use_new_media_upload?(_orig_send_attachment=wp.media.editor.send.attachment,_orig_send_link=wp.media.editor.send.link,_orig_send_to_editor=window.send_to_editor,vp.upload_callback=function(e){var t=jQuery(this),a=t.parent(".buttons").prev("input"),i=t.parent(".buttons").siblings(".image").find("img");return wp.media.editor.send.link=function(e){return wp.media.post("vp_send_link_to_editor",{nonce:wp.media.view.settings.nonce.sendToEditor,src:e.linkUrl,title:e.title,html:wp.media.string.link(e),post_id:wp.media.view.settings.post.id})},wp.media.editor.send.attachment=function(e,t){a.val(t.url),a.trigger("change"),"image"===t.type?i.attr("src",t.url):i.attr("src",t.icon),wp.media.editor.send.attachment=_orig_send_attachment,window.send_to_editor=_orig_send_to_editor},window.send_to_editor=function(e){""!==e&&(e=get_url_info(e),a.val(e.imgurl),a.trigger("change"),i.attr("src",e.iconurl)),window.send_to_editor=_orig_send_to_editor,wp.media.editor.send.attachment=_orig_send_attachment},wp.media.editor.open(t),!1}):(_orig_send_to_editor=window.send_to_editor,vp.upload_callback=function(e){var t=jQuery(this).parent(".buttons").prev("input"),a=jQuery(this).parent(".buttons").siblings(".image").find("img");return tb_show("Upload Image","media-upload.php?referer=vafpress&TB_iframe=true&post_id=0"),!(window.send_to_editor=function(e){""!==e&&(e=get_url_info(e),t.val(e.imgurl),t.trigger("change"),a.attr("src",e.iconurl)),window.send_to_editor=_orig_send_to_editor,tb_remove()})}),vp.remove_upload_callback=function(e){var t=jQuery(this),a=t.parent(".buttons").prev("input"),t=t.parent(".buttons").siblings(".image").find("img");a.val(""),t.attr("src","")},jQuery(document).on("click",".vp-js-upload",vp.upload_callback),jQuery(document).on("click",".vp-js-remove-upload",vp.remove_upload_callback),vp.image_upload_callback=function(e){var t,a=jQuery(this),i=a.parent(".buttons").prev("input"),n=a.parent(".buttons").siblings(".image").find("img"),r=null;return(r=wp.media.frames.file_frame=wp.media({title:"Select Image",button:{text:"Select Image"},multiple:!1})).on("select",function(){t=r.state().get("selection").first().toJSON(),i.val(t.id),i.trigger("change"),t.sizes.thumbnail?n.attr("src",t.sizes.thumbnail.url):n.attr("src",t.sizes.full.url)}),r.open(),!1},jQuery(document).on("click",".vp-js-imageupload",vp.image_upload_callback),vp.init_multiimage=function(e){e.length<=0||e.each(function(){var e=jQuery(this),t=e.parent(".buttons").prev("input"),a=e.parent(".buttons").siblings(".gallery"),i=null;a.on("change",function(){var e=[];jQuery(this).find("> span").each(function(){e.push(jQuery(this).data("id"))}),t.val(e.join(","))}),a.sortable({placeholder:"vp-pfui-ui-state-highlight",tolerance:"pointer",stop:function(){a.trigger("change")}}),a.on("click","span.close",function(e){jQuery(this).parent().fadeOut(200,function(){jQuery(this).remove(),a.trigger("change")})}),e.on("click",function(){(i=wp.media.frames.file_frame=wp.media({title:"Select Image",button:{text:"Select Image"},multiple:!0})).on("select",function(){i.state().get("selection").each(function(e){var t=e.attributes.url;void 0!==e.attributes.sizes&&void 0!==e.attributes.sizes.thumbnail&&(t=e.attributes.sizes.thumbnail.url),a.append('<span data-id="'+e.id+'" title="'+e.attributes.title+'"><img src="'+t+'" alt="" /><span class="close"></span></span>'),a.trigger("change")})}),i.open()})})},vp.init_colorpicker=function(e){e.length<=0||e.wpColorPicker({change:function(e,t){setTimeout(function(){control.setting.set(picker.val())},100)}})},vp.init_datepicker=function(e){jQuery.fn.datepicker&&(e.length<=0||e.each(function(){var e=jQuery(this).getDatas();(e=vp.parseOpt(e.opt)).onSelect=function(){jQuery(this).trigger("keypress"),jQuery(this).trigger("keyup"),jQuery(this).trigger("blur")},jQuery(this).datepicker(e),jQuery(this).datepicker("setDate",e.value)}))},vp.init_controls=function(e){vp.init_datepicker(e.find(".vp-js-datepicker")),vp.init_fontawesome_chooser(e.find(".vp-js-fontawesome")),vp.init_sorter(e.find(".vp-js-sorter")),vp.init_colorpicker(e.find(".vp-js-colorpicker")),vp.init_slider(e.find(".vp-js-slider")),vp.init_ace_editor(e.find(".vp-js-codeeditor")),vp.init_wpeditor(e.find(".vp-js-wpeditor")),vp.init_multiimage(e.find(".vp-js-multiimage"))},vp.init_fontawesome_chooser=function(e){var t;jQuery.fn.select2&&(e.length<=0||(t=function(e){return'<span class="fontawesome"><i class="'+e.id+'"></i>'+e.text+"</span>"},e.select2({formatResult:t,formatSelection:t,escapeMarkup:function(e){return e},allowClear:!0,placeholder:vp_wp.ctrl_msg.fac_placeholder})))},vp.init_select2=function(e){jQuery.fn.select2&&(e.length<=0||e.select2({allowClear:!0,placeholder:vp_wp.ctrl_msg.select2_placeholder}))},vp.init_sorter=function(e){jQuery.fn.select2Sortable&&(e.length<=0||e.each(function(e,t){var a=jQuery(t),t=a.getDatas(),t=vp.parseOpt(t.opt);a.select2(t).select2Sortable({bindOrder:"sortableStop"})}))},vp.init_tipsy=function(){jQuery.fn.tipsy&&(jQuery(".vp-js-tipsy.description").tipsy({live:!0,gravity:"e"}),jQuery(".vp-js-tipsy.slideinput").tipsy({live:!0,trigger:"focus"}),jQuery(".vp-js-tipsy.image-item").tipsy({live:!0}))},vp.init_tipsy(),vp.init_ace_editor=function(e){"undefined"!==window.ace&&(e.length<=0||e.each(function(){var e=ace.edit(jQuery(this).get(0)),t=jQuery(this).prev(),a=jQuery(this).getDatas(),a=vp.parseOpt(a.opt);e.setTheme("ace/theme/"+a.theme),e.getSession().setMode("ace/mode/"+a.mode),e.getSession().setUseWrapMode(!0),e.setShowPrintMargin(!1),e.getSession().setValue(t.val()),e.getSession().on("change",function(){t.val(e.getSession().getValue())}),t.on("change",function(){e.getSession().setValue(t.val())})}))},void 0!==window.KIA_metabox&&KIA_metabox.mediaButtons(),vp.init_wpeditor=function(e){void 0!==window.KIA_metabox&&(e.length<=0||KIA_metabox.runTinyMCE(e))},vp.tinyMCE_save=function(){void 0!==window.tinyMCE&&tinyMCE.triggerSave(!1,!0)};