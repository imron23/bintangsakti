!function(o){"use strict";window.jnews.zoom=window.jnews.zoom||{},window.jnews.zoom={init:function(){var e=this,n=jnews.library;e.window=o("window"),e.container=o("body"),e.refresh=!1,e.is_enable=void 0!==jnewsoption.zoom_button?jnewsoption.zoom_button:0,e.is_rtl=void 0!==jnewsoption.zoom_button?parseInt(jnewsoption.rtl):0,e.transform_origin=e.is_rtl?"top right":"0 0",e.zoomContainer=e.container.find(".jeg_meta_zoom"),(e.is_enable&&e.zoomContainer.length>0||e.zoomContainer.length>0)&&(e.zoomOut=e.zoomContainer.find(".zoom-out"),e.zoomReset=e.zoomContainer.find(".zoom-reset"),e.zoomIn=e.zoomContainer.find(".zoom-in"),e.zoomInStep=e.zoomContainer.attr("data-in-step"),e.zoomOutStep=10-e.zoomContainer.attr("data-out-step"),e.zoomLevel=1,e.progressBar=e.zoomContainer.find(".zoom-bar"),e.zoomEvent(),null!==e.getZoomCookie("zoom_position")&&e.updateZoomCookie(e.getZoomCookie("zoom_position")),e.container.find(".content-inner").each((function(o,t){t.querySelectorAll("img").forEach((function(o){n.addEvents(o,{load:function(){window.jnews.zoom.setSizeContent(e.getZoomCookie("zoom_position"),!1)}})}))})))},setSizeContent:function(e,n){var t=this,i=e,r=t.container.find(".content-inner");1!=e?t.container.addClass("jnews_zoom_activated"):t.container.removeClass("jnews_zoom_activated"),r.length>0&&r.each((function(e,n){var t=o(n),r=void 0===t.parents(".jeg_inner_content").width()?t.parents(".jeg_custom_content_wrapper").width():t.parents(".jeg_inner_content").width(),a=t.parents(".entry-content"),s=t.parents(".with-share"),m=s.children(".jeg_share_button.share-float"),c=parseInt(t.css("marginLeft").replace("px","")),d=parseInt(t.css("marginRight").replace("px","")),f=t.height(),l=t[0].getBoundingClientRect().height,h=i>=1?l>f?l:f:l>f?f:l,g=(h+="absolute"===m.css("position")?0:m.outerHeight(!0))-h/i,u=s.length>0?c+d:0,z=i>=1?r/i-u:r/i-2*u;z=1==i?"":z,a.length>0?(a.css({height:parseInt(h)+"px"}),t.css({width:z}),t.find(" > *").css({maxWidth:z})):(t.css({marginBottom:g+30}),t.css({width:z}),t.find(" > *").css({maxWidth:z}))})),n&&setTimeout((function(){t.setSizeContent(e,!1)}),150)},resetZoom:function(){var e=this;e.zoomLevel=1,e.updateProgressBar(1),document.cookie="zoom_position="+e.zoomLevel+"; path=/;",e.setSizeContent(e.zoomLevel,!0);var n=e.container.find(".content-inner"),t=n.parents(".entry-content");n.length>0&&n.each((function(i,r){e.refresh=!0;var a=o(r);a.find(" > *").css({maxWidth:""}),a.css({"-ms-zoom":"","-ms-transform":"","-ms-transform-origin":"","-moz-transform":"","-moz-transform-origin":"","-o-transform":"","-o-transform-origin":"","-webkit-transform":"","-webkit-transform-origin":"",overflow:"",width:""}).trigger("containerchange"),t.length>0?t.css({height:""}):n.css({marginBottom:""})}))},updateZoomCookie:function(e){var n=this;n.updateProgressBar(e);var t=n.container.find(".content-inner"),i="scale("+e+")",r=e,a=n.transform_origin,s="hidden";1==e&&(i="",r="",a="",s=""),t.length&&t.each((function(e,t){n.refresh=!0,o(t).css({"-ms-zoom":r,"-ms-transform":i,"-ms-transform-origin":a,"-moz-transform":i,"-moz-transform-origin":a,"-o-transform":i,"-o-transform-origin":a,"-webkit-transform":i,"-webkit-transform-origin":a,overflow:s}).trigger("containerchange")})),n.setSizeContent(e,!0)},updateZoom:function(e){var n=this;n.zoomLevel+=e,n.zoomLevel=n.zoomLevel>1+n.zoomInStep/10?1+n.zoomInStep/10:n.zoomLevel,n.zoomLevel=n.zoomLevel<n.zoomOutStep/10?n.zoomOutStep/10:n.zoomLevel,n.updateProgressBar(n.zoomLevel),document.cookie="zoom_position="+n.zoomLevel+"; path=/;";var t="scale("+n.zoomLevel+")",i=n.zoomLevel,r=n.transform_origin,a="hidden";1==n.zoomLevel&&(t="",i="",r="",a="");var s=n.container.find(".content-inner");if(s.length&&s.each((function(e,s){n.refresh=!0,o(s).css({"-ms-zoom":i,"-ms-transform":t,"-ms-transform-origin":r,"-moz-transform":t,"-moz-transform-origin":r,"-o-transform":t,"-o-transform-origin":r,"-webkit-transform":t,"-webkit-transform-origin":r,overflow:a}).trigger("containerchange")})),"object"==typeof jnews&&"object"==typeof jnews.library){var m=jnews.library.globalBody.querySelectorAll(".jeg_preview_slider");m.length&&jnews.library.forEach(m,(function(o,e){if(jnews.library.dataStorage.has(o,"jeg.previewslider")){var n=jnews.library.dataStorage.get(o,"jeg.previewslider");"normal"===n.mode?n.resize_normal():"fullscreen"===n.mode&&n.resize_fullscreen()}}))}n.setSizeContent(n.zoomLevel,!0)},getZoomCookie:function(o){var e=document.cookie.match("(^|;) ?"+o+"=([^;]*)(;|$)");return e?e[2]:1},updateProgressBar:function(e){var n=o(this.progressBar),t=100*(e-.8)/.5+0,i=t+"%";t<=100?n.width(i):t>100&&n.width("100%")},zoomEvent:function(){var e=this,n=e.container.find(".content-inner");e.width=o(window).width(),e.height=o(window).height(),e.zoomOut.on("click",(function(){e.updateZoom(-.1)})),e.zoomIn.on("click",(function(){e.updateZoom(.1)})),e.zoomReset.on("click",(function(){e.resetZoom()})),n.length&&n.each((function(n,t){e.getZoomCookie("zoom_position");var i=o(t);i.off("containerchange DOMSubtreeModified changed.owl.carousel refreshed.owl.carousel").on("containerchange DOMSubtreeModified changed.owl.carousel refreshed.owl.carousel",(function(n){var t=o(this),r=t.parents(".post-autoload").length?t.parents(".post-autoload").data("id"):0,a=t;r&&(a=e.container.find('.post-autoload[data-id="'+r+'"]').find(".content-inner"));if(e.refresh){e.refresh=!1;var s=a.find(".owl-carousel");setTimeout((function(){s.each((function(e,n){o(n).data("owl.carousel").onResize(),i.trigger("contaianerchange")}))}),1500)}setTimeout(function(){var n=o(this),t=e.getZoomCookie("zoom_position"),i=n.parents(".entry-content"),r=n.parents(".post-autoload").length?n.parents(".post-autoload").data("id"):0,a=n;r&&(a=e.container.find('.post-autoload[data-id="'+r+'"]').find(".content-inner"));var s=a.height(),m=a[0].getBoundingClientRect().height,c=t>=1?m>s?m:s:m>s?s:m,d=i.children(".jeg_share_button.share-float");c+="absolute"===d.css("position")?0:d.outerHeight(!0),i.length>0&&i.css({height:parseInt(c)+"px"})}.bind(this),1e3)}))})),o(window).on("resize",(function(){e.updateZoomCookie(e.getZoomCookie("zoom_position"))}))}},o(document).on("jnews-ajax-load",(function(o,e){jnews.zoom.init()})),o(document).on("ready",(function(){jnews.zoom.init()}))}(jQuery);